<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AIrena | Reinforcement Learning Environment</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter+Tight:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <!-- Removed SplitText to fix invisible text issue -->
    <script src="https://unpkg.com/lenis@1.1.18/dist/lenis.min.js"></script>
</head>
<body>

    <!-- Custom Cursor -->
    <div class="cursor-dot"></div>
    <div class="cursor-outline"></div>

    <!-- Loading Screen -->
    <div class="loading-container">
      <div class="loading__border-progress loading__border-top"></div>
      <div class="loading__border-progress loading__border-right"></div>
      <div class="loading__border-progress loading__border-bottom"></div>
      <div class="loading__border-progress loading__border-left"></div>
      <div class="loading-screen">
        <div class="loading__percentage">0</div>
        <div class="loading__text">Initializing System</div>
      </div>
    </div>
    
    <div id="app">
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <a href="#project"><h1>AIrena</h1></a>
                    <p class="fade-in">Neural Training Ground</p>
                </div>
                <nav class="fade-in">
                    <a href="#project" class="active">Overview</a>
                    <a href="#about">Concept</a>
                    <a href="#environment">Environment</a>
                    <a href="#dungeon">Dungeon</a>
                    <a href="#training">Training</a>
                    <a href="#download">Get Started</a>
                </nav>
                <div style="width: 100px; display: none; lg:block;"></div>
            </div>
        </header>

        <main class="main-content">

            <!-- HERO SECTION -->
            <section id="project" class="content-section hero-section">
                <div class="hero-bg">
                    <div class="hero-grid"></div>
                </div>
                
                <div class="hero-content">
                    <div class="fade-in"><span class="hero-badge">v1.0 Release Available</span></div>
                    
                    <h1 class="animated-heading hero-title">Reinforcement Learning,<br>Simplified.</h1>
                    
                    <p class="hero-subtitle">
                        <span id="scramble-text">AI training without the setup.</span>
                    </p>
                    
                    <p class="fade-in hero-subtitle-expanded">
                        AIrena bridges the gap between abstract research and hands-on simulation. 
                        Run a real Python agent in a high-fidelity 3D web environment. 
                        No dependencies, no config hell‚Äîjust pure intelligence.
                    </p>

                    <div class="hero-actions fade-in">
                        <a href="#download" class="btn btn-primary">
                            <span>Start Training</span>
                            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                        </a>
                        <a href="#about" class="btn btn-outline">Learn More</a>
                    </div>
                </div>
            </section>

            <!-- CONCEPTS SECTION -->
            <section id="about" class="content-section">
                <h2 class="animated-heading">What is Reinforcement Learning?</h2>
                <div class="content-expanded fade-in">
                    <p style="text-align: center;">
                        RL is a paradigm where an <strong>agent</strong> learns to make decisions by performing actions in an 
                        environment and receiving rewards or penalties. It's trial-and-error at machine speed.
                    </p>
                    
                    <div class="rl-explanation">
                        <div class="rl-concept">
                            <h3>üß† The Brain (Agent)</h3>
                            <p>Just like training a pet, the agent explores its world. Over millions of steps, it builds a 'policy'‚Äîa mathematical strategy to maximize its cumulative reward.</p>
                            <ul>
                                <li><strong>Input:</strong> Visual/Sensor data</li>
                                <li><strong>Processing:</strong> Neural Network (PPO)</li>
                                <li><strong>Output:</strong> Movement vectors</li>
                            </ul>
                        </div>
                        
                        <div class="rl-concept">
                            <h3>üåç The World (Environment)</h3>
                            <p>The arena defines the rules of physics, the goals, and the consequences. It provides the feedback loop necessary for intelligence to emerge.</p>
                            <ul>
                                <li><strong>State:</strong> Current position & obstacles</li>
                                <li><strong>Reward:</strong> +1 for goal, -0.1 for time</li>
                                <li><strong>Reset:</strong> On collision or success</li>
                            </ul>
                        </div>
                    </div>

                    <div class="applications-grid">
                        <div class="application">
                            <span class="app-icon">ü§ñ</span>
                            <span class="app-text">Robotics</span>
                        </div>
                        <div class="application">
                            <span class="app-icon">üéÆ</span>
                            <span class="app-text">Game AI</span>
                        </div>
                        <div class="application">
                            <span class="app-icon">üöó</span>
                            <span class="app-text">Self-Driving</span>
                        </div>
                        <div class="application">
                            <span class="app-icon">üìà</span>
                            <span class="app-text">FinTech</span>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- ENVIRONMENT SECTION -->
            <section id="environment" class="content-section">
                <h2 class="animated-heading">High-Fidelity Simulation</h2>
                <div class="content-expanded fade-in">
                    <p style="text-align: center;">
                        The "arena" is a custom-built 3D world, streamed to your browser via WebSockets.
                        It visualizes the "thinking" process of the AI in real-time.
                    </p>

                    <div class="tech-grid">
                        <div class="tech-item">
                            <strong>Three.js + WebGL</strong>
                            <p>Hardware-accelerated rendering ensures smooth 60fps visualization of complex agent behaviors and environments.</p>
                        </div>
                        <div class="tech-item">
                            <strong>Ammo.js Physics</strong>
                            <p>A direct port of the Bullet engine providing realistic collision detection, gravity, and raycasting for sensors.</p>
                        </div>
                        <div class="tech-item">
                            <strong>WebSocket Bridge</strong>
                            <p>Ultra-low latency communication pipeline connecting the Python "Brain" to the JavaScript "Body".</p>
                        </div>
                        <div class="tech-item">
                            <strong>Dynamic Sensors</strong>
                            <p>Agents are equipped with Lidar-like raycasts and proximity sensors to perceive the world depth.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- DUNGEON DEMO SECTION -->
            <section id="dungeon" class="content-section content-section-split">
                <div class="text-content fade-in">
                    <h2 class="animated-heading">Procedural Generation</h2>
                    <p>
                        Generalization is the holy grail of AI. To prevent the agent from just memorizing a map,
                        AIrena generates a new dungeon layout for every episode using a modified "Rooms and Mazes" algorithm.
                    </p>
                    <ul style="list-style: none; color: var(--text-muted); padding-left: 1rem; border-left: 2px solid var(--primary);">
                        <li style="margin-bottom: 0.5rem">01. Generate random room clusters</li>
                        <li style="margin-bottom: 0.5rem">02. Fill void with perfect mazes</li>
                        <li style="margin-bottom: 0.5rem">03. Detect connectors & merge regions</li>
                        <li style="margin-bottom: 0.5rem">04. Prune dead-ends for flow</li>
                    </ul>
                </div>
                
                <div class="media-content fade-in">
                    <div class="demo-window">
                        <div class="window-header">
                            <div class="window-dot dot-red"></div>
                            <div class="window-dot dot-yellow"></div>
                            <div class="window-dot dot-green"></div>
                            <span class="window-title">proc_gen_viz.dart</span>
                        </div>
                        <figure style="margin:0;">
                            <!-- DO NOT CHANGE: This is your Dart canvas -->
                            <canvas id="enchilada" width="992" height="744" style="width: 100%; height: auto; display: block;">
                                Sorry, you need canvas support for this demo.
                            </canvas>
                        </figure>
                    </div>
                    <p style="text-align: center; margin-top: 1rem; font-size: 0.85rem; opacity: 0.5;">
                        Interact with the demo to regenerate layout
                    </p>
                </div>
            </section>

            <!-- TRAINING SECTION -->
            <section id="training" class="content-section content-section-split reversed">
                <div class="media-content fade-in">
                    <div class="demo-window">
                        <div class="window-header">
                            <div class="window-dot dot-red"></div>
                            <div class="window-dot dot-yellow"></div>
                            <div class="window-dot dot-green"></div>
                            <span class="window-title">training_footage_ep_4000.mp4</span>
                        </div>
                        <!-- Placeholder video, replace source with your file -->
                        <video class="training-video" autoplay loop muted playsinline>
                            <source src="/training-footage.mp4" type="video/mp4">
                        </video>
                    </div>
                </div>
                <div class="text-content fade-in">
                    <h2 class="animated-heading">The Loop</h2>
                    <p>
                        The architecture relies on a seamless cycle. The <strong>Brain</strong> (Python + PPO) 
                        interprets the state of the world and predicts the best move. The <strong>Body</strong> (Three.js) 
                        simulates the physics resulting from that move.
                    </p>
                    
                    <!-- REPLACED METRICS WITH ARCHITECTURE SPECS -->
                    <div class="architecture-specs">
                        <div class="spec-item">
                            <span class="label">State Space</span>
                            <p class="value">
                                The agent perceives the world through 21 Raycast sensors (simulated Lidar), 
                                its current local velocity, and the relative coordinates of the target.
                            </p>
                        </div>
                        <div class="spec-item">
                            <span class="label">Action Space</span>
                            <p class="value">
                                Continuous control outputs [x, y] mapping to linear acceleration and angular velocity 
                                for smooth, realistic movement.
                            </p>
                        </div>
                        <div class="spec-item">
                            <span class="label">Reward Function</span>
                            <p class="value">
                                <span style="color: #10b981">+10.0</span> for reaching the goal. 
                                <span style="color: #ef4444">-1.0</span> for wall collisions. 
                                A small time-step penalty encourages efficiency.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- DOWNLOAD SECTION -->
            <section id="download" class="content-section">
                <h2 class="animated-heading">Ready to Deploy?</h2>
                <p class="fade-in" style="margin-bottom: 2rem;">
                    Download the complete package. Includes the Python trainer, the GUI visualizer, 
                    and the pre-trained models. Open source and MIT licensed.
                </p>
                <a href="https://github.com/DaranishT/AIrena/tree/v_1.0" target="_blank" class="btn btn-primary fade-in" style="padding: 1.5rem 3rem; font-size: 1.2rem;">
                    Download Release v1.0
                </a>
                
                <!-- ADDED REQUIREMENTS TAG -->
                <div class="requirements-tag fade-in">
                    <span class="req-title">System Req:</span>
                    <span>Windows / Linux / Mac</span>
                    <span class="req-sep">‚Ä¢</span>
                    <span>Python 3.8+</span>
                    <span class="req-sep">‚Ä¢</span>
                    <span>4GB RAM</span>
                </div>
            </section>

        </main>
    </div>

    <!-- 
       =========================================================
       HIDDEN DART INPUTS (DO NOT REMOVE)
       These control your maze generation parameters
       =========================================================
    -->
    <div style="display: none;">
        <figure>
          <canvas id="rooms"></canvas>
          <label for="attempts">Attempts:</label>
          <input type="range" id="attempts" min="1" value="20" max="1000">
          <output for="attempts" id="attempts-output">20</output>
        </figure>
        <figure>
          <canvas id="dead-ends"></canvas>
          <label for="dead-end-remove">Dead ends to remove:</label>
          <input type="range" id="dead-end-remove" min="1" value="500" max="2400">
          <output for="dead-end-remove" id="dead-end-remove-output">500</output>
        </figure>
        <figure>
          <canvas id="maze-fill"></canvas>
        </figure>
        <figure>
          <canvas id="connectors"></canvas>
        </figure>
        <figure>
          <canvas id="giant"></canvas>
          <label for="giant-rooms">Rooms:</label>
          <input type="range" id="giant-rooms" min="1" value="1000" max="10000">
          <output for="giant-rooms" id="giant-rooms-output">1000</output>
          <label for="giant-room-size">Max room size:</label>
          <input type="range" id="giant-room-size" min="5" value="10" max="40">
          <output for="giant-room-size" id="giant-room-size-output">10</output>
          <label for="giant-wiggle">Wiggle:</label>
          <input type="range" id="giant-wiggle" min="0" value="50" max="100">
          <output for="giant-wiggle" id="giant-wiggle-output">50</output>
          <label for="giant-speed">Speed:</label>
          <input type="range" id="giant-speed" min="1" value="10" max="100">
          <output for="giant-speed" id="giant-speed-output">10</output>
        </figure>
    </div>

    <!-- MAIN APP SCRIPT -->
    <!-- Vite handles the import inside main.js automatically -->
    <script type="module" src="/src/main.js"></script>
    
    <!-- YOUR ORIGINAL DART SCRIPT -->
    <script src="/main.dart.js"></script>

</body>
</html>